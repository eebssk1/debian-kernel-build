--- a/arch/x86/Makefile	2021-11-25 16:49:08.000000000 +0800
+++ b/arch/x86/Makefile	2021-12-06 19:02:11.177350297 +0800
@@ -121,7 +121,7 @@
         cflags-$(CONFIG_MPSC)		+= -march=nocona
         cflags-$(CONFIG_MCORE2)		+= -march=core2
         cflags-$(CONFIG_MATOM)		+= -march=atom
-        cflags-$(CONFIG_GENERIC_CPU)	+= -mtune=generic
+        cflags-$(CONFIG_GENERIC_CPU)	+= -mtune=skylake
         KBUILD_CFLAGS += $(cflags-y)
 
         KBUILD_CFLAGS += -mno-red-zone
@@ -202,6 +202,8 @@
 LDFLAGS_vmlinux += -z max-page-size=0x200000
 endif
 
+LDFLAGS_vmlinux += $(call ld-option,--relax)
+LDFLAGS_vmlinux +=-O3
 
 archscripts: scripts_basic
 	$(Q)$(MAKE) $(build)=arch/x86/tools relocs
